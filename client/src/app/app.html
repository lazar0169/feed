<div class="app-container">
  <!-- Loading Screen -->
  @if (isLoading()) {
    <div class="loading-overlay">
      <div class="loading-content">
        <div class="loading-icon">
          <i class="fas fa-baby-carriage"></i>
        </div>
        <div class="loading-spinner"></div>
        <p class="loading-text">Loading...</p>
      </div>
    </div>
  }

  <!-- Update Notification Banner -->
  @if (showUpdateBanner()) {
    <div class="update-banner">
      <div class="update-content">
        <i class="fas fa-download"></i>
        <div class="update-text">
          <strong>New Version Available!</strong>
          <span>A new version of the app is ready to install.</span>
        </div>
      </div>
      <div class="update-actions">
        <button class="btn-update" (click)="activateUpdate()">
          <i class="fas fa-sync-alt"></i>
          Update Now
        </button>
        <button class="btn-dismiss" (click)="dismissUpdate()">
          <i class="fas fa-times"></i>
        </button>
      </div>
    </div>
  }

  <main class="app-content" [class.no-header]="!showNavigation()">
    <router-outlet></router-outlet>
  </main>

  @if (showNavigation()) {
    <nav class="app-nav">
      <a routerLink="/today" routerLinkActive="active" class="nav-link">
        <i class="fas fa-home"></i>
        <span>Today</span>
      </a>
      <a routerLink="/log" routerLinkActive="active" class="nav-link">
        <i class="fas fa-calendar-days"></i>
        <span>Log</span>
      </a>
      <a routerLink="/statistics" routerLinkActive="active" class="nav-link">
        <i class="fas fa-chart-line"></i>
        <span>Stats</span>
      </a>
      <a routerLink="/settings" routerLinkActive="active" class="nav-link">
        <i class="fas fa-cog"></i>
        <span>Settings</span>
      </a>
    </nav>
  }
</div>
