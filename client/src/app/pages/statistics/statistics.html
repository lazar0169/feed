<div class="page-container">
  <div class="page-header">
    <h2><i class="fas fa-chart-line"></i> Statistics</h2>
  </div>

  <div class="stats-grid">
    @if (weekStats()) {
      <div class="stat-card">
        <div class="card-header">
          <i class="fas fa-calendar-week"></i>
          <h3>Last 7 Days</h3>
        </div>
        <div class="card-body">
          <div class="stat-row">
            <div class="stat-label">
              <i class="fas fa-hashtag"></i>
              <span>Total Feedings</span>
            </div>
            <span class="stat-value">{{ weekStats()!.totalFeedings }}</span>
          </div>
          <div class="stat-row">
            <div class="stat-label">
              <i class="fas fa-bottle-droplet"></i>
              <span>Total Amount</span>
            </div>
            <span class="stat-value">{{ weekStats()!.totalAmount }} ml</span>
          </div>
          <div class="stat-row">
            <div class="stat-label">
              <i class="fas fa-chart-bar"></i>
              <span>Average per Feeding</span>
            </div>
            <span class="stat-value">{{ weekStats()!.averageAmount }} ml</span>
          </div>
          <div class="stat-row">
            <div class="stat-label">
              <i class="fas fa-calendar-day"></i>
              <span>Average per Day</span>
            </div>
            <span class="stat-value">{{ weekStats()!.averageFeedingsPerDay }}</span>
          </div>
        </div>
      </div>
    }

    @if (monthStats()) {
      <div class="stat-card">
        <div class="card-header">
          <i class="fas fa-calendar-alt"></i>
          <h3>Last 30 Days</h3>
        </div>
        <div class="card-body">
          <div class="stat-row">
            <div class="stat-label">
              <i class="fas fa-hashtag"></i>
              <span>Total Feedings</span>
            </div>
            <span class="stat-value">{{ monthStats()!.totalFeedings }}</span>
          </div>
          <div class="stat-row">
            <div class="stat-label">
              <i class="fas fa-bottle-droplet"></i>
              <span>Total Amount</span>
            </div>
            <span class="stat-value">{{ monthStats()!.totalAmount }} ml</span>
          </div>
          <div class="stat-row">
            <div class="stat-label">
              <i class="fas fa-chart-bar"></i>
              <span>Average per Feeding</span>
            </div>
            <span class="stat-value">{{ monthStats()!.averageAmount }} ml</span>
          </div>
          <div class="stat-row">
            <div class="stat-label">
              <i class="fas fa-calendar-day"></i>
              <span>Average per Day</span>
            </div>
            <span class="stat-value">{{ monthStats()!.averageFeedingsPerDay }}</span>
          </div>
        </div>
      </div>
    }

    @if (allTimeStats()) {
      <div class="stat-card">
        <div class="card-header">
          <i class="fas fa-infinity"></i>
          <h3>All Time</h3>
        </div>
        <div class="card-body">
          <div class="stat-row">
            <div class="stat-label">
              <i class="fas fa-hashtag"></i>
              <span>Total Feedings</span>
            </div>
            <span class="stat-value">{{ allTimeStats()!.totalFeedings }}</span>
          </div>
          <div class="stat-row">
            <div class="stat-label">
              <i class="fas fa-bottle-droplet"></i>
              <span>Total Amount</span>
            </div>
            <span class="stat-value">{{ allTimeStats()!.totalAmount }} ml</span>
          </div>
          <div class="stat-row">
            <div class="stat-label">
              <i class="fas fa-chart-bar"></i>
              <span>Average per Feeding</span>
            </div>
            <span class="stat-value">{{ allTimeStats()!.averageAmount }} ml</span>
          </div>
          <div class="stat-row">
            <div class="stat-label">
              <i class="fas fa-calendar-day"></i>
              <span>Average per Day</span>
            </div>
            <span class="stat-value">{{ allTimeStats()!.averageFeedingsPerDay }}</span>
          </div>
        </div>
      </div>
    }
  </div>

  @if (!allTimeStats() || allTimeStats()!.totalFeedings === 0) {
    <div class="empty-state">
      <i class="fas fa-chart-pie"></i>
      <p>No feeding data available yet.</p>
      <small>Start tracking on the Today page!</small>
    </div>
  }
</div>
